/*! Kumbiaphp jQuery plugin Released under the MIT license */
!function(t){t.KumbiaPHP={publicPath:null,plugin:[],cConfirm:function(i){var e=t(this);confirm(e.data("msg"))||i.preventDefault()},cFx:function(i){return function(e){e.preventDefault();var a=t(this),n=t("#"+a.data("to"));n[i]()}},cRemote:function(i){var e=t(this),a=t("#"+e.data("to"));i.preventDefault(),a.load(this.href)},cRemoteConfirm:function(i){var e=t(this),a=t("#"+e.data("to"));i.preventDefault(),confirm(e.data("msg"))&&a.load(this.href)},cFRemote:function(i){i.preventDefault(),este=t(this);var e=t("[type=submit]",este);e.attr("disabled","disabled");var a=este.attr("action"),n=este.attr("data-to");t.post(a,este.serialize(),function(i){var a=t("#"+n);a.html(i),a.hide(),a.show("slow"),e.attr("disabled",null)})},cUpdaterSelect:function(){var e=t(this),a=t("#"+e.data("update"));url=e.data("url"),a.empty(),t.get(url,{id:e.val()},function(e){for(i in e){var n=t("<option />").text(e[i]).val(i);a.append(n)}},"json")},bind:function(){t(document).on("click","a.js-confirm, input.js-confirm",this.cConfirm),t(document).on("click","a.js-remote",this.cRemote),t(document).on("click","a.js-remote-confirm",this.cRemoteConfirm),t(document).on("click","a.js-show",this.cFx("show")),t(document).on("click","a.js-hide",this.cFx("hide")),t(document).on("click","a.js-toggle",this.cFx("toggle")),t(document).on("click","a.js-fade-in",this.cFx("fadeIn")),t(document).on("click","a.js-fade-out",this.cFx("fadeOut")),t(document).on("submit","form.js-remote",this.cFRemote),t(document).on("change","select.js-remote",this.cUpdaterSelect),t.KumbiaPHP.bindDatePicker()},autoload:function(){var e=t("[class*='jp-']");t.each(e,function(i){var e=t(this),a=e.attr("class").split(" ");for(i in a)if("jp-"==a[i].substr(0,3)){if(-1!=t.inArray(a[i].substr(3),t.KumbiaPHP.plugin))continue;t.KumbiaPHP.plugin.push(a[i].substr(3))}});var a=t("head");for(i in t.KumbiaPHP.plugin)t.ajaxSetup({cache:!0}),a.append('<link href="'+t.KumbiaPHP.publicPath+"css/"+t.KumbiaPHP.plugin[i]+'.css" type="text/css" rel="stylesheet"/>'),t.getScript(t.KumbiaPHP.publicPath+"javascript/jquery/jquery."+t.KumbiaPHP.plugin[i]+".js",function(){})},bindDatePicker:function(){var i=t("input.js-datepicker"),e=function(){i.each(function(){var i={monthSelector:!0,yearSelector:!0},e=t(this);void 0!=e.attr("min")&&(i.dateMin=e.attr("min").split("-")),void 0!=e.attr("max")&&(i.dateMax=e.attr("max").split("-")),e.pickadate(i)})};return"undefined"!=typeof t.pickadate?e():(t("head").append('<link href="'+this.publicPath+'css/pickadate.css" type="text/css" rel="stylesheet"/>'),void jQuery.ajax({dataType:"script",cache:!0,url:this.publicPath+"javascript/jquery/pickadate.js"}).done(function(){e()}))},initialize:function(){var i=t("script:last").attr("src");this.publicPath=i.substr(0,i.length-44),t(function(){t.KumbiaPHP.bind(),t.KumbiaPHP.autoload()})}},t.KumbiaPHP.initialize()}(jQuery);